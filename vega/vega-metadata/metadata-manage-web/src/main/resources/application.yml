server:
  port: 8888
  servlet:
    context-path: /api/metadata-manage
spring:
  db-config:
    type: mariadb
    url: jdbc:mariadb://10.4.110.188:3330/adp?useUnicode=true&useSSL=false&characterEncoding=utf8mb4&serverTimezone=GMT%2B8&allowMultiQueries=true&rewriteBatchedStatements=true&socketTimeout=0&autoReconnect=true&defaultFetchSize=200
    username: root
    password: eisoo.com123


  application:
    name: metadata-manage
    version: 1.0.0
  mvc:
    throw-exception-if-no-handler-found: true
    pathmatch:
      matching-strategy: ANT_PATH_MATCHER
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      initial-size: 5
      min-idle: 5
      max-active: 20
      max-wait: 60000
      test-while-idle: true
      time-between-eviction-runs-millis: 60000
      min-evictable-idle-time-millis: 30000
      validation-query: select 'x'
      test-on-borrow: false
      test-on-return: false
      pool-prepared-statements: true
      max-pool-prepared-statement-per-connection-size: 20
    driver-class-name: org.mariadb.jdbc.Driver
    url: jdbc:mariadb://10.4.110.188:3330/adp?useUnicode=true&useSSL=false&characterEncoding=utf8mb4&serverTimezone=GMT%2B8&allowMultiQueries=true&rewriteBatchedStatements=true&socketTimeout=0&autoReconnect=true&defaultFetchSize=200
    #    url: jdbc:mariadb://10.4.109.251:3330/adp?useUnicode=true&useSSL=false&characterEncoding=utf8mb4&serverTimezone=GMT%2B8&allowMultiQueries=true&rewriteBatchedStatements=true&socketTimeout=0&autoReconnect=true&defaultFetchSize=200
    username: root
    #    password: eisoo.com123
    password: eisoo.com123
  kafka:
    enable: false
    bootstrap-servers: localhost:9097
    listener:
      ack-mode: manual_immediate
      type: batch
      concurrency: 1
    producer:
      acks: all
      retries: 3
      batch-size: 16384
      buffer-memory: 33554432
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
      properties:
        sasl:
          mechanism: PLAIN
          jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required
            username="admin" password="123456";
        security.protocol: SASL_PLAINTEXT
    consumer:
      auto-offset-reset: earliest
      max-poll-records: 3000
      enable-auto-commit: false
      max.poll.interval.ms: 5000
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      properties:
        sasl:
          mechanism: PLAIN
          jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required
            username="admin" password="123456";
        security.protocol: SASL_PLAINTEXT
  sql:
    init:
      schema-locations:
        - classpath:sql/t_lineage_tag_column2.sql
        - classpath:sql/t_lineage_tag_indicator2.sql
        - classpath:sql/t_lineage_tag_table2.sql
        - classpath:sql/t_lineage_graph_info.sql
        - classpath:sql/t_lineage_relation.sql
      mode: always
      continue-on-error: true
mybatis-plus:
  mapper-locations: classpath*:com/**/mapper/xml/*.xml,classpath*:mapper/*.xml
  configuration:
    map-underscore-to-camel-case: true
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
excel-multi-thread-import:
  batch-import-size: 2
  max-thread-num-per-task: 1
token:
  check:
    enable: false
    url: https://anyfabric.aishu.cn:9080/oauth2/introspect
dolphinscheduler:
  host: http://10.4.108.198/
  port: 12345
  token: 98b7863eccb69ca817a2c7d5ff2f86ae
  user: admin
anyrobot:
  log:
    enabled: false
    endpoint: http://10.4.104.243/api/feed_ingester/v1/jobs/otl-test4-log/events
    level: INFO
  trace:
    enabled: false
    endpoint: http://10.4.104.243/api/feed_ingester/v1/jobs/otl-test3/events

dpDataSource:
  host: localhost
  port: 8098
  catalogApi: /api/data-connection/v1/datasource
  connectorsApi: /api/data-connection/v1/datasource/connectors
  #  user: admin
  protocol: http
  collector: mymaria_fast2
  metaDataHost: 10.4.134.204
  metaDataPort: 3306
  metaDataUser: root
  metaDataPassWord: 123456
  metaDataConnector: maria

virtualization:
  host: localhost
  port: 8099
  protocol: http
  user: admin
  isAuto: true
  schemaApi: /v1/metadata/schemas/%s
  tableApi: /v1/metadata/tables/%s/%s
  columnApi: /v1/metadata/columns/%s/%s/%s
  collectorApi: /v1/metadata/tables/%s/%s/%s
anydata:
  initMaxCount: 3
  BASE_URL: https://192.168.181.18:8444
  url: ${anydata.BASE_URL}/api/builder/v1/open/graph/data
  userName: liberly
  password: eisoo.com123
  appIdURL: ${anydata.BASE_URL}/api/rbac/v1/user/login/appId
  neighborsURL: ${anydata.BASE_URL}/api/engine/v1/open/graph-explore/kgs/%s/neighbors
  nodesInfoURL: ${anydata.BASE_URL}/api/engine/v1/open/basic-search/kgs/%s/vids
  nodeInfoCommonURL: ${anydata.BASE_URL}/api/engine/v1/open/basic-search/kgs/%s/full-text
  edgeBatchDeleteURL: ${anydata.BASE_URL}/api/builder/v1/graph/data/batch_del_relation
  anyDataLineageQueryURL: ${anydata.BASE_URL}/api/engine/v1/open/custom-search/services/query_by_name
  kafka:
    enable: false
    bootstrap-servers: localhost:9092
    group-topic: meta_lineage2
    producer:
      acks: all
      batch-size: 16384
      buffer-memory: 33554432
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
      retries: 5
      transaction-timeout: 60000
      transaction-id-prefix: TN-1
      max-block-ms: 600000
      properties:
        sasl:
          mechanism: PLAIN
          jaas-config: org.apache.kafka.common.security.plain.PlainLoginModule required
            username="admin" password="123456";
        security:
          protocol: SASL_PLAINTEXT
    consumer:
      group-id: meta_lineage_1
      enable-auto-commit: false
      max-poll-interval-ms: 18000000
      auto-offset-reset: earliest
      session-timeout-ms: 600000
      request-timeout-ms: 60000
      max-poll-records: 50
      isolation-level: read_committed
      heartbeat-interval-ms: 4000
      allow-auto-create-topics: true
      listener:
        type: batch
        concurrency: 1
      properties:
        sasl:
          mechanism: PLAIN
          jaas-config: org.apache.kafka.common.security.plain.PlainLoginModule required
            username="admin" password="123456";
        security:
          protocol: SASL_PLAINTEXT
  build:
    graphName: 血缘图谱
    graphDesc: 这是一个血缘图谱
    upLoadGraphPath: classpath:graph/lineage_graph.json
    upLoadGraphServicePath: classpath:graph/lineage_service.json
    networkURL: ${anydata.BASE_URL}/api/builder/v1/open/knw/network
    networkGetIdByNameURL: ${anydata.BASE_URL}/api/builder/v1/open/knw/get_by_name
    dsURL: ${anydata.BASE_URL}/api/builder/v1/open/ds
    dsGetInfoURL: ${anydata.BASE_URL}/api/builder/v1/open/ds
    dsDeleteURL: ${anydata.BASE_URL}/api/builder/v1/open/ds/delbydsids
    uploadURL: ${anydata.BASE_URL}/api/builder/v1/open/graph/input
    startBuildURL: ${anydata.BASE_URL}/api/builder/v1/open/task/%s
    startBuildProgressURL: ${anydata.BASE_URL}/api/builder/v1/open/graph/info/basic
    startDeleteURL: ${anydata.BASE_URL}/api/builder/v1/open/graph/delbyids
    startQueryAllGraphURL: ${anydata.BASE_URL}/api/builder/v1/open/knw/get_graph_by_knw
    serviceBuildURL: ${anydata.BASE_URL}/api/engine/v1/open/services/import-service/file
    serviceQueryURL: ${anydata.BASE_URL}/api/cognitive-service/v1/services/list
    serviceCancelURL: ${anydata.BASE_URL}/api/cognitive-service/v1/services/%s/cancel-service
    serviceDeletelURL: ${anydata.BASE_URL}/api/cognitive-service/v1/services/%s/delete-service
    dataSource:
      dataSource: mysql
      dsAddress: 10.4.134.47
      dsPassword: eisoo.com123
      dsPath: adp
      dsPort: 3330
      dsUser: root
      dsName: 血缘mysql
      extractType: standardExtraction
      dsOldId: 24
af-data-view:
  indicator-lineage: http://10.4.134.47/api/internal/indicator-management/v1/indicator/%s/lineage
  data-lineage: http://10.4.134.47/api/internal/data-view/v1/data-lineage/parser
  table-column-info-lineage: http://10.4.134.47/api/internal/business-grooming/v1/lineage/table?id=%s
  check-task-lineage: http://10.4.134.47/api/data-sync/v1/compose/model/history?offset=1&limit=10&direction=desc&sort=start_time&model_uuid=%s&step=INSERT


scheduler:
  trigger: true
  cron: "10 * * * * ? *"
  projectName: metadata
  taskName: updateMetadataTrigger
  taskUuid: updateMetadataTrigger-task-001
  processName: updateMetadataTriggerProcess
  processUuid: updateMetadataTrigger-process-001
  taskUrl: http://10.4.110.188:8888/api/metadata-manage/v1/task/updateMetaData
  token: 7a40c0b94c52873b6bdb49d1f58011dd
  schedulerModelUrl: http://10.4.110.188:8787/api/data-sync/v2/model
  schedulerProcessUrl: http://10.4.110.188:8787/api/data-sync/v2/process
  autoMonitorTrigger: true
